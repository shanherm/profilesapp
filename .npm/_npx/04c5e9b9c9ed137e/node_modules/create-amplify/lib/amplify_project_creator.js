import { EOL } from 'os';
import { LogLevel, format, printer } from '@aws-amplify/cli-core';
const LEARN_MORE_USAGE_DATA_TRACKING_LINK = 'https://docs.amplify.aws/react/reference/telemetry';
/**
 * Orchestration class that sets up a new Amplify project
 */
export class AmplifyProjectCreator {
    projectRoot;
    packageManagerController;
    projectRootValidator;
    gitIgnoreInitializer;
    initialProjectFileGenerator;
    defaultDevPackages = [
        '@aws-amplify/backend',
        '@aws-amplify/backend-cli',
        'aws-cdk@^2',
        'aws-cdk-lib@^2',
        'constructs@^10.0.0',
        'typescript@^5.0.0',
        'tsx',
        'esbuild',
    ];
    defaultProdPackages = ['aws-amplify'];
    /**
     * Orchestrator for the create-amplify workflow.
     * Delegates out to other classes that handle parts of the getting started experience
     */
    constructor(projectRoot, packageManagerController, projectRootValidator, gitIgnoreInitializer, initialProjectFileGenerator) {
        this.projectRoot = projectRoot;
        this.packageManagerController = packageManagerController;
        this.projectRootValidator = projectRootValidator;
        this.gitIgnoreInitializer = gitIgnoreInitializer;
        this.initialProjectFileGenerator = initialProjectFileGenerator;
    }
    /**
     * Executes the create-amplify workflow
     */
    create = async () => {
        printer.log(`Validating current state of target directory...`, LogLevel.DEBUG);
        await this.projectRootValidator.validate();
        await this.packageManagerController.initializeProject();
        printer.printNewLine();
        printer.log(format.sectionHeader(`Installing devDependencies:`));
        printer.log(format.list(this.defaultDevPackages));
        printer.printNewLine();
        printer.log(format.sectionHeader(`Installing dependencies:`));
        printer.log(format.list(this.defaultProdPackages));
        printer.printNewLine();
        await printer.indicateProgress('Installing devDependencies', () => this.packageManagerController.installDependencies(this.defaultDevPackages, 'dev'));
        printer.log(`✔ DevDependencies installed`);
        await printer.indicateProgress('Installing dependencies', () => this.packageManagerController.installDependencies(this.defaultProdPackages, 'prod'));
        printer.log(`✔ Dependencies installed`);
        await printer.indicateProgress('Creating template files', async () => {
            await this.gitIgnoreInitializer.ensureInitialized();
            await this.initialProjectFileGenerator.generateInitialProjectFiles();
        });
        printer.log(`✔ Template files created`);
        printer.log(format.success('Successfully created a new project!'));
        printer.printNewLine();
        const cdPreamble = process.cwd() === this.projectRoot
            ? null
            : `Navigate to your project directory using ${format.command(`cd .${this.projectRoot.replace(process.cwd(), '')}`)} and then:`;
        printer.log(format.sectionHeader(`Welcome to AWS Amplify!`));
        const welcomeMessage = format.list([
            `Get started by running ${format.normalizeAmpxCommand('sandbox')}.`,
            `Run ${format.normalizeAmpxCommand('help')} for a list of available commands.`,
        ]);
        const instructionSteps = [cdPreamble, welcomeMessage]
            .filter(Boolean)
            .join(EOL);
        printer.log(instructionSteps);
        printer.printNewLine();
        printer.log(format.note(`Amplify collects anonymous telemetry data about general usage of the CLI. Participation is optional, and you may opt-out by using ${format.normalizeAmpxCommand('configure telemetry disable')}. To learn more about telemetry, visit ${format.link(LEARN_MORE_USAGE_DATA_TRACKING_LINK)}`));
        printer.printNewLine();
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW1wbGlmeV9wcm9qZWN0X2NyZWF0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvYW1wbGlmeV9wcm9qZWN0X2NyZWF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLElBQUksQ0FBQztBQUN6QixPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQU1sRSxNQUFNLG1DQUFtQyxHQUN2QyxvREFBb0QsQ0FBQztBQUV2RDs7R0FFRztBQUNILE1BQU0sT0FBTyxxQkFBcUI7SUFtQmI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQXRCRixrQkFBa0IsR0FBRztRQUNwQyxzQkFBc0I7UUFDdEIsMEJBQTBCO1FBQzFCLFlBQVk7UUFDWixnQkFBZ0I7UUFDaEIsb0JBQW9CO1FBQ3BCLG1CQUFtQjtRQUNuQixLQUFLO1FBQ0wsU0FBUztLQUNWLENBQUM7SUFFZSxtQkFBbUIsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBRXZEOzs7T0FHRztJQUNILFlBQ21CLFdBQW1CLEVBQ25CLHdCQUFrRCxFQUNsRCxvQkFBMEMsRUFDMUMsb0JBQTBDLEVBQzFDLDJCQUF3RDtRQUp4RCxnQkFBVyxHQUFYLFdBQVcsQ0FBUTtRQUNuQiw2QkFBd0IsR0FBeEIsd0JBQXdCLENBQTBCO1FBQ2xELHlCQUFvQixHQUFwQixvQkFBb0IsQ0FBc0I7UUFDMUMseUJBQW9CLEdBQXBCLG9CQUFvQixDQUFzQjtRQUMxQyxnQ0FBMkIsR0FBM0IsMkJBQTJCLENBQTZCO0lBQ3hFLENBQUM7SUFFSjs7T0FFRztJQUNILE1BQU0sR0FBRyxLQUFLLElBQW1CLEVBQUU7UUFDakMsT0FBTyxDQUFDLEdBQUcsQ0FDVCxpREFBaUQsRUFDakQsUUFBUSxDQUFDLEtBQUssQ0FDZixDQUFDO1FBQ0YsTUFBTSxJQUFJLENBQUMsb0JBQW9CLENBQUMsUUFBUSxFQUFFLENBQUM7UUFF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QW9CLENBQzlKLDZCQUE2QixDQUM5QiwwQ0FBMEMsTUFBTSxDQUFDLElBQUksQ0FDcEQsbUNBQW1DLENBQ3BDLEVBQUUsQ0FDSixDQUNGLENBQUM7UUFDRixPQUFPLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDekIsQ0FBQyxDQUFDO0NBQ0giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFT0wgfSBmcm9tICdvcyc7XG5pbXBvcnQgeyBMb2dMZXZlbCwgZm9ybWF0LCBwcmludGVyIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NsaS1jb3JlJztcbmltcG9ydCB7IFBhY2thZ2VNYW5hZ2VyQ29udHJvbGxlciB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9wbHVnaW4tdHlwZXMnO1xuaW1wb3J0IHsgUHJvamVjdFJvb3RWYWxpZGF0b3IgfSBmcm9tICcuL3Byb2plY3Rfcm9vdF92YWxpZGF0b3IuanMnO1xuaW1wb3J0IHsgR2l0SWdub3JlSW5pdGlhbGl6ZXIgfSBmcm9tICcuL2dpdGlnbm9yZV9pbml0aWFsaXplci5qcyc7XG5pbXBvcnQgeyBJbml0aWFsUHJvamVjdEZpbGVHZW5lcmF0b3IgfSBmcm9tICcuL2luaXRpYWxfcHJvamVjdF9maWxlX2dlbmVyYXRvci5qcyc7XG5cbmNvbnN0IExFQVJOX01PUkVfVVNBR0VfREFUQV9UUkFDS0lOR19MSU5LID1cbiAgJ2h0dHBzOi8vZG9jcy5hbXBsaWZ5LmF3cy9yZWFjdC9yZWZlcmVuY2UvdGVsZW1ldHJ5JztcblxuLyoqXG4gKiBPcmNoZXN0cmF0aW9uIGNsYXNzIHRoYXQgc2V0cyB1cCBhIG5ldyBBbXBsaWZ5IHByb2plY3RcbiAqL1xuZXhwb3J0IGNsYXNzIEFtcGxpZnlQcm9qZWN0Q3JlYXRvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgZGVmYXVsdERldlBhY2thZ2VzID0gW1xuICAgICdAYXdzLWFtcGxpZnkvYmFja2VuZCcsXG4gICAgJ0Bhd3MtYW1wbGlmeS9iYWNrZW5kLWNsaScsXG4gICAgJ2F3cy1jZGtAXjInLFxuICAgICdhd3MtY2RrLWxpYkBeMicsXG4gICAgJ2NvbnN0cnVjdHNAXjEwLjAuMCcsXG4gICAgJ3R5cGVzY3JpcHRAXjUuMC4wJyxcbiAgICAndHN4JyxcbiAgICAnZXNidWlsZCcsXG4gIF07XG5cbiAgcHJpdmF0ZSByZWFkb25seSBkZWZhdWx0UHJvZFBhY2thZ2VzID0gWydhd3MtYW1wbGlmeSddO1xuXG4gIC8qKlxuICAgKiBPcmNoZXN0cmF0b3IgZm9yIHRoZSBjcmVhdGUtYW1wbGlmeSB3b3JrZmxvdy5cbiAgICogRGVsZWdhdGVzIG91dCB0byBvdGhlciBjbGFzc2VzIHRoYXQgaGFuZGxlIHBhcnRzIG9mIHRoZSBnZXR0aW5nIHN0YXJ0ZWQgZXhwZXJpZW5jZVxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZWFkb25seSBwcm9qZWN0Um9vdDogc3RyaW5nLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgcGFja2FnZU1hbmFnZXJDb250cm9sbGVyOiBQYWNrYWdlTWFuYWdlckNvbnRyb2xsZXIsXG4gICAgcHJpdmF0ZSByZWFkb25seSBwcm9qZWN0Um9vdFZhbGlkYXRvcjogUHJvamVjdFJvb3RWYWxpZGF0b3IsXG4gICAgcHJpdmF0ZSByZWFkb25seSBnaXRJZ25vcmVJbml0aWFsaXplcjogR2l0SWdub3JlSW5pdGlhbGl6ZXIsXG4gICAgcHJpdmF0ZSByZWFkb25seSBpbml0aWFsUHJvamVjdEZpbGVHZW5lcmF0b3I6IEluaXRpYWxQcm9qZWN0RmlsZUdlbmVyYXRvclxuICApIHt9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIHRoZSBjcmVhdGUtYW1wbGlmeSB3b3JrZmxvd1xuICAgKi9cbiAgY3JlYXRlID0gYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHByaW50ZXIubG9nKFxuICAgICAgYFZhbGlkYXRpbmcgY3VycmVudCBzdGF0ZSBvZiB0YXJnZXQgZGlyZWN0b3J5Li4uYCxcbiAgICAgIExvZ0xldmVsLkRFQlVHXG4gICAgKTtcbiAgICBhd2FpdCB0aGlzLnByb2plY3RSb290VmFsaWRhdG9yLnZhbGlkYXRlKCk7XG5cbiAgICBhd2FpdCB0aGlzLnBhY2thZ2VNYW5hZ2VyQ29udHJvbGxlci5pbml0aWFsaXplUHJvamVjdCgpO1xuXG4gICAgcHJpbnRlci5wcmludE5ld0xpbmUoKTtcbiAgICBwcmludGVyLmxvZyhmb3JtYXQuc2VjdGlvbkhlYWRlcihgSW5zdGFsbGluZyBkZXZEZXBlbmRlbmNpZXM6YCkpO1xuICAgIHByaW50ZXIubG9nKGZvcm1hdC5saXN0KHRoaXMuZGVmYXVsdERldlBhY2thZ2VzKSk7XG5cbiAgICBwcmludGVyLnByaW50TmV3TGluZSgpO1xuICAgIHByaW50ZXIubG9nKGZvcm1hdC5zZWN0aW9uSGVhZGVyKGBJbnN0YWxsaW5nIGRlcGVuZGVuY2llczpgKSk7XG4gICAgcHJpbnRlci5sb2coZm9ybWF0Lmxpc3QodGhpcy5kZWZhdWx0UHJvZFBhY2thZ2VzKSk7XG4gICAgcHJpbnRlci5wcmludE5ld0xpbmUoKTtcblxuICAgIGF3YWl0IHByaW50ZXIuaW5kaWNhdGVQcm9ncmVzcygnSW5zdGFsbGluZyBkZXZEZXBlbmRlbmNpZXMnLCAoKSA9PlxuICAgICAgdGhpcy5wYWNrYWdlTWFuYWdlckNvbnRyb2xsZXIuaW5zdGFsbERlcGVuZGVuY2llcyhcbiAgICAgICAgdGhpcy5kZWZhdWx0RGV2UGFja2FnZXMsXG4gICAgICAgICdkZXYnXG4gICAgICApXG4gICAgKTtcbiAgICBwcmludGVyLmxvZyhg4pyUIERldkRlcGVuZGVuY2llcyBpbnN0YWxsZWRgKTtcbiAgICBhd2FpdCBwcmludGVyLmluZGljYXRlUHJvZ3Jlc3MoJ0luc3RhbGxpbmcgZGVwZW5kZW5jaWVzJywgKCkgPT5cbiAgICAgIHRoaXMucGFja2FnZU1hbmFnZXJDb250cm9sbGVyLmluc3RhbGxEZXBlbmRlbmNpZXMoXG4gICAgICAgIHRoaXMuZGVmYXVsdFByb2RQYWNrYWdlcyxcbiAgICAgICAgJ3Byb2QnXG4gICAgICApXG4gICAgKTtcbiAgICBwcmludGVyLmxvZyhg4pyUIERlcGVuZGVuY2llcyBpbnN0YWxsZWRgKTtcbiAgICBhd2FpdCBwcmludGVyLmluZGljYXRlUHJvZ3Jlc3MoJ0NyZWF0aW5nIHRlbXBsYXRlIGZpbGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgdGhpcy5naXRJZ25vcmVJbml0aWFsaXplci5lbnN1cmVJbml0aWFsaXplZCgpO1xuICAgICAgYXdhaXQgdGhpcy5pbml0aWFsUHJvamVjdEZpbGVHZW5lcmF0b3IuZ2VuZXJhdGVJbml0aWFsUHJvamVjdEZpbGVzKCk7XG4gICAgfSk7XG4gICAgcHJpbnRlci5sb2coYOKclCBUZW1wbGF0ZSBmaWxlcyBjcmVhdGVkYCk7XG5cbiAgICBwcmludGVyLmxvZyhmb3JtYXQuc3VjY2VzcygnU3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgYSBuZXcgcHJvamVjdCEnKSk7XG4gICAgcHJpbnRlci5wcmludE5ld0xpbmUoKTtcblxuICAgIGNvbnN0IGNkUHJlYW1ibGUgPVxuICAgICAgcHJvY2Vzcy5jd2QoKSA9PT0gdGhpcy5wcm9qZWN0Um9vdFxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiBgTmF2aWdhdGUgdG8geW91ciBwcm9qZWN0IGRpcmVjdG9yeSB1c2luZyAke2Zvcm1hdC5jb21tYW5kKFxuICAgICAgICAgICAgYGNkIC4ke3RoaXMucHJvamVjdFJvb3QucmVwbGFjZShwcm9jZXNzLmN3ZCgpLCAnJyl9YFxuICAgICAgICAgICl9IGFuZCB0aGVuOmA7XG5cbiAgICBwcmludGVyLmxvZyhmb3JtYXQuc2VjdGlvbkhlYWRlcihgV2VsY29tZSB0byBBV1MgQW1wbGlmeSFgKSk7XG5cbiAgICBjb25zdCB3ZWxjb21lTWVzc2FnZSA9IGZvcm1hdC5saXN0KFtcbiAgICAgIGBHZXQgc3RhcnRlZCBieSBydW5uaW5nICR7Zm9ybWF0Lm5vcm1hbGl6ZUFtcHhDb21tYW5kKCdzYW5kYm94Jyl9LmAsXG4gICAgICBgUnVuICR7Zm9ybWF0Lm5vcm1hbGl6ZUFtcHhDb21tYW5kKFxuICAgICAgICAnaGVscCdcbiAgICAgICl9IGZvciBhIGxpc3Qgb2YgYXZhaWxhYmxlIGNvbW1hbmRzLmAsXG4gICAgXSk7XG5cbiAgICBjb25zdCBpbnN0cnVjdGlvblN0ZXBzID0gW2NkUHJlYW1ibGUsIHdlbGNvbWVNZXNzYWdlXVxuICAgICAgLmZpbHRlcihCb29sZWFuKVxuICAgICAgLmpvaW4oRU9MKTtcblxuICAgIHByaW50ZXIubG9nKGluc3RydWN0aW9uU3RlcHMpO1xuICAgIHByaW50ZXIucHJpbnROZXdMaW5lKCk7XG5cbiAgICBwcmludGVyLmxvZyhcbiAgICAgIGZvcm1hdC5ub3RlKFxuICAgICAgICBgQW1wbGlmeSBjb2xsZWN0cyBhbm9ueW1vdXMgdGVsZW1ldHJ5IGRhdGEgYWJvdXQgZ2VuZXJhbCB1c2FnZSBvZiB0aGUgQ0xJLiBQYXJ0aWNpcGF0aW9uIGlzIG9wdGlvbmFsLCBhbmQgeW91IG1heSBvcHQtb3V0IGJ5IHVzaW5nICR7Zm9ybWF0Lm5vcm1hbGl6ZUFtcHhDb21tYW5kKFxuICAgICAgICAgICdjb25maWd1cmUgdGVsZW1ldHJ5IGRpc2FibGUnXG4gICAgICAgICl9LiBUbyBsZWFybiBtb3JlIGFib3V0IHRlbGVtZXRyeSwgdmlzaXQgJHtmb3JtYXQubGluayhcbiAgICAgICAgICBMRUFSTl9NT1JFX1VTQUdFX0RBVEFfVFJBQ0tJTkdfTElOS1xuICAgICAgICApfWBcbiAgICAgIClcbiAgICApO1xuICAgIHByaW50ZXIucHJpbnROZXdMaW5lKCk7XG4gIH07XG59XG4iXX0=